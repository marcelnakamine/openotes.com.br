---
title: "PHP - Email autenticado com PHPMailer"
layout: "post"
permalink: "/2012/08/php-email-autenticado-com-phpmailer.html"
uuid: "4718079310808275474"
guid: "tag:blogger.com,1999:blog-871419307951952.post-4718079310808275474"
date: "2012-08-13 18:18:00"
updated: "2012-08-13 18:18:58"
description: 
blogger:
    siteid: "871419307951952"
    postid: "4718079310808275474"
    comments: "0"
categories: [PHP]
author: 
    name: "Marcos Nakamine"
    url: "https://plus.google.com/117200895427105171614?rel=author"
    image: "//lh6.googleusercontent.com/-6t0lck2nDvI/AAAAAAAAAAI/AAAAAAAAOBw/_9ON3AiIr48/s32-c/photo.jpg"
---

<div class="css-full-post-content js-full-post-content">
<pre style="background: #ffffff; color: black;"><span style="color: #5f5035;">Arquivo email.php</span></pre><pre style="background: #ffffff; color: black;"><span style="color: #5f5035;">&nbsp;</span></pre><pre style="background: #ffffff; color: black;"><span style="color: #5f5035;">&lt;?php</span><span style="color: black;"></span><br /><span style="color: black;">&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: maroon; font-weight: bold;">require_once</span><span style="color: #808030;">(</span><span style="color: #0000e6;">'class.phpmailer.php'</span><span style="color: #808030;">)</span><span style="color: purple;">;</span><span style="color: black;"></span><br /><span style="color: black;"></span><br /><span style="color: black;">&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #797997;">$mail</span><span style="color: black;">             </span><span style="color: #808030;">=</span><span style="color: black;"> </span><span style="color: maroon; font-weight: bold;">new</span><span style="color: black;"> PHPMailer</span><span style="color: #808030;">(</span><span style="color: #808030;">)</span><span style="color: purple;">;</span><span style="color: black;"></span><br /><span style="color: black;"></span><br /><span style="color: black;">&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #797997;">$body</span><span style="color: black;">             </span><span style="color: #808030;">=</span><span style="color: black;"> </span><span style="color: #400000;">eregi_replace</span><span style="color: #808030;">(</span><span style="color: #0000e6;">"[</span><span style="color: #0f69ff;">\]</span><span style="color: #0000e6;">"</span><span style="color: #808030;">,</span><span style="color: #0000e6;">''</span><span style="color: #808030;">,</span><span style="color: #797997;">$body</span><span style="color: #808030;">)</span><span style="color: purple;">;</span><span style="color: black;"></span><br /><span style="color: black;"></span><br /><span style="color: black;">&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #797997;">$mail</span><span style="color: #808030;">-</span><span style="color: #808030;">&gt;</span><span style="color: black;">IsSMTP</span><span style="color: #808030;">(</span><span style="color: #808030;">)</span><span style="color: purple;">;</span><span style="color: black;"></span><br /><span style="color: black;">&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #797997;">$mail</span><span style="color: #808030;">-&gt;</span><span style="color: #797997;">Host</span><span style="color: black;">       </span><span style="color: #808030;">=</span><span style="color: black;"> </span><span style="color: #0000e6;">"mail.dominio.com.br"</span><span style="color: purple;">;</span><span style="color: black;"></span><br /><span style="color: black;">&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #797997;">$mail</span><span style="color: #808030;">-&gt;</span><span style="color: #797997;">SMTPDebug</span><span style="color: black;">  </span><span style="color: #808030;">=</span><span style="color: black;"> </span><span style="color: #008c00;">2</span><span style="color: purple;">;</span><span style="color: black;">              </span><br /><span style="color: black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><br /><span style="color: black;">&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #797997;">$mail</span><span style="color: #808030;">-&gt;</span><span style="color: #797997;">SMTPAuth</span><span style="color: black;">   </span><span style="color: #808030;">=</span><span style="color: black;"> </span><span style="color: maroon; font-weight: bold;">true</span><span style="color: purple;">;</span><span style="color: black;">           </span><br /><span style="color: black;">&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #797997;">$mail</span><span style="color: #808030;">-&gt;</span><span style="color: #797997;">Host</span><span style="color: black;">       </span><span style="color: #808030;">=</span><span style="color: black;"> </span><span style="color: #0000e6;">"mail.dominio.com.br"</span><span style="color: purple;">;</span><span style="color: black;"></span><br /><span style="color: black;">&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #797997;">$mail</span><span style="color: #808030;">-&gt;</span><span style="color: #797997;">Port</span><span style="color: black;">       </span><span style="color: #808030;">=</span><span style="color: black;"> </span><span style="color: #008c00;">25</span><span style="color: purple;">;</span><span style="color: black;">            </span><br /><span style="color: black;">&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #797997;">$mail</span><span style="color: #808030;">-&gt;</span><span style="color: #797997;">Username</span><span style="color: black;">   </span><span style="color: #808030;">=</span><span style="color: black;"> </span><span style="color: #0000e6;">"email@dominio.com.br"</span><span style="color: purple;">;</span><span style="color: black;"></span><br /><span style="color: black;">&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #797997;">$mail</span><span style="color: #808030;">-&gt;</span><span style="color: #797997;">Password</span><span style="color: black;">   </span><span style="color: #808030;">=</span><span style="color: black;"> </span><span style="color: #0000e6;">"senha"</span><span style="color: purple;">;</span><span style="color: black;"></span><br /><span style="color: black;"></span><br /><span style="color: black;">&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #797997;">$mail</span><span style="color: #808030;">-&gt;</span><span style="color: #797997;">From</span><span style="color: black;"> </span><span style="color: #808030;">=</span><span style="color: black;"> </span><span style="color: #0000e6;">'remetente@email.com.br'</span><span style="color: purple;">;</span><span style="color: black;"></span><br /><span style="color: black;">&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #797997;">$mail</span><span style="color: #808030;">-&gt;</span><span style="color: #797997;">FromName</span><span style="color: black;"> </span><span style="color: #808030;">=</span><span style="color: black;"> </span><span style="color: #0000e6;">'Nome do Rementente'</span><span style="color: purple;">;</span><span style="color: black;"></span><br /><span style="color: black;">&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #797997;">$mail</span><span style="color: #808030;">-</span><span style="color: #808030;">&gt;</span><span style="color: black;">AddReplyTo</span><span style="color: #808030;">(</span><span style="color: #0000e6;">"remetente@email.com.br"</span><span style="color: #808030;">,</span><span style="color: #0000e6;">"Nome do Rementente"</span><span style="color: #808030;">)</span><span style="color: purple;">;</span><span style="color: black;"></span><br /><span style="color: black;"></span><br /><span style="color: black;">&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #797997;">$mail</span><span style="color: #808030;">-&gt;</span><span style="color: #797997;">Subject</span><span style="color: black;">    </span><span style="color: #808030;">=</span><span style="color: black;"> </span><span style="color: #0000e6;">"Assunto do Email"</span><span style="color: purple;">;</span><span style="color: black;"></span><br /><span style="color: black;"></span><br /><span style="color: black;">&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #797997;">$mail</span><span style="color: #808030;">-</span><span style="color: #808030;">&gt;</span><span style="color: black;">MsgHTML</span><span style="color: #808030;">(</span><span style="color: #797997;">$body</span><span style="color: #808030;">)</span><span style="color: purple;">;</span><span style="color: black;"></span><br /><span style="color: black;"></span><br /><span style="color: black;">&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #797997;">$address</span><span style="color: black;"> </span><span style="color: #808030;">=</span><span style="color: black;"> </span><span style="color: #0000e6;">"destinatario@dominio.com.br"</span><span style="color: purple;">;</span><span style="color: black;"></span><br /><span style="color: black;">&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #797997;">$mail</span><span style="color: #808030;">-</span><span style="color: #808030;">&gt;</span><span style="color: black;">AddAddress</span><span style="color: #808030;">(</span><span style="color: #797997;">$address</span><span style="color: #808030;">,</span><span style="color: black;"> </span><span style="color: #0000e6;">"Nome do destinatario"</span><span style="color: #808030;">)</span><span style="color: purple;">;</span><span style="color: black;"></span><br /><span style="color: black;"></span><br /><span style="color: black;">&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: maroon; font-weight: bold;">if</span><span style="color: #808030;">(</span><span style="color: #808030;">!</span><span style="color: #797997;">$mail</span><span style="color: #808030;">-</span><span style="color: #808030;">&gt;</span><span style="color: black;">Send</span><span style="color: #808030;">(</span><span style="color: #808030;">)</span><span style="color: #808030;">)</span><span style="color: black;"> </span><span style="color: purple;">{</span><span style="color: black;"></span><br /><span style="color: black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: maroon; font-weight: bold;">echo</span><span style="color: black;"> </span><span style="color: #0000e6;">"Erro: "</span><span style="color: black;"> </span><span style="color: #808030;">.</span><span style="color: black;"> </span><span style="color: #797997;">$mail</span><span style="color: #808030;">-&gt;</span><span style="color: #797997;">ErrorInfo</span><span style="color: purple;">;</span><span style="color: black;"></span><br /><span style="color: black;">&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: purple;">}</span><span style="color: black;"> </span><span style="color: maroon; font-weight: bold;">else</span><span style="color: black;"> </span><span style="color: purple;">{</span><span style="color: black;"></span><br /><span style="color: black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: maroon; font-weight: bold;">echo</span><span style="color: black;"> </span><span style="color: #0000e6;">"Mensagem enviada!"</span><span style="color: purple;">;</span><span style="color: black;"></span><br /><span style="color: black;">&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: purple;">}</span><span style="color: black;">        </span><br /><span style="color: #5f5035;">?&gt;</span><br /></pre><pre style="background: #ffffff; color: black;"><br /></pre><pre style="background: #ffffff; color: black;">Arquivos do PHP Mailer:</pre><pre style="background: #ffffff; color: black;"><a href="http://sourceforge.net/projects/phpmailer/files/phpmailer%20for%20php4/">http://sourceforge.net/projects/phpmailer/files/phpmailer%20for%20php4/</a></pre><pre style="background: #ffffff; color: black;"><br /></pre><pre style="background: #ffffff; color: black;">Fonte: <a href="http://phpmailer.worxware.com/">http://phpmailer.worxware.com/</a></pre>
</div>